[{"content":"样式修改\r所有自定样式CSS代码都在\\assets\\scss\\custom.scss中，修改的地方都已经注释\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 /* Place your custom SCSS in HUGO_SITE_FOLDER/assets/scss/custom.scss */ // 设置选中字体的区域背景颜色 ::selection { color: #fff; background: #557697; } ::-moz-selection { color: #fff; background: #557697; } ::-webkit-selection { color: #fff; background: #557697; } :root { // 字体颜色 --card-text-color-main: #34495e; } :root { // 行内代码背景色 --code-background-color: #f8f8f8; // 行内代码前景色 --code-text-color: #e96900; } //链接颜色修改 a { text-decoration: none; color: var(--accent-color); \u0026amp;:hover { color: var(--accent-color-darker); } \u0026amp;.link { color: #42b983; font-weight: 600; padding: 0 2px; text-decoration: none; cursor: pointer; \u0026amp;:hover{ text-decoration: underline; } } } //滚动条美化 .widget--toc { #TableOfContents { max-height: 65vh; ol, ul { list-style-type: none; } li { margin: 10px 10px; \u0026amp; \u0026gt; ol, \u0026amp; \u0026gt; ul { margin-top: 10px; padding-left: 10px; margin-bottom: -5px; \u0026amp; \u0026gt; li:last-child { margin-bottom: 0; } } } } } //全局滚动条美化 html{ ::-webkit-scrollbar { width: 20px; } ::-webkit-scrollbar-track { background-color: transparent; } ::-webkit-scrollbar-thumb { background-color: #d6dee1; border-radius: 20px; border: 6px solid transparent; background-clip: content-box; } ::-webkit-scrollbar-thumb:hover { background-color: #a8bbbf; } } ## 友链引入 主要参考[雨临Lewis](https://lewky.cn/posts/hugo-3.html/)的样式 ### 友链界面 新建`\\content\\page\\friends\\index.md` 文件内容如下 ```markdown --- title: \u0026#34;Friends\u0026#34; date: 2022-04-10T20:52:18+08:00 layout: \u0026#34;friends\u0026#34; slug: \u0026#34;friends\u0026#34; menu: main: weight: -50 params: icon: hash --- 友链样式\r主要是利用shortcode的原理，具体可参考shorcodes 新建assets\\scss\\friend.scss,添加如下代码\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 .friend.url { text-decoration: none !important; color: black; } .friend.logo { width: 56px !important; height: 56px !important; border-radius: 50%; border: 1px solid #ddd; padding: 2px; margin-top: 14px !important; margin-left: 14px !important; background-color: #fff; } .friend.block.whole { height: 92px; margin-top: 8px; margin-left: 4px; width: 31%; display: inline-flex !important; border-radius: 5px; background: rgba(14, 220, 220, 0.15); \u0026amp;.shadow { margin-right: 4px; box-shadow: 4px 4px 2px 1px rgba(0, 0, 255, 0.2); } \u0026amp;.borderFlash { border-width: 3.5px; border-style: solid; animation: borderFlash 2s infinite alternate; } \u0026amp;.led { animation: led 3s infinite alternate; } \u0026amp;.bln { animation: bln 3s infinite alternate; } } .friend.block.whole { \u0026amp;:hover { color: white; \u0026amp; .friend.info { color: white; } } \u0026amp;.default { --primary-color: #215bb3bf; \u0026amp;:hover { background: rgba(33, 91, 179, 0.75); } } \u0026amp;.red { --primary-color: #e72638; \u0026amp;:hover { background: rgba(231, 38, 56, 0.75); } } \u0026amp;.green { --primary-color: #2ec58d; \u0026amp;:hover { background: rgba(21, 167, 33, 0.75); } } \u0026amp;.blue { --primary-color: #2575fc; \u0026amp;:hover { background: rgba(37, 117, 252, 0.75); } } \u0026amp;.linear-red { --primary-color: #e72638; \u0026amp;:hover { background: linear-gradient(to right, #f9cdcd 0, #e72638 35%); } } \u0026amp;.linear-green { --primary-color: #2ec58d; \u0026amp;:hover { background: linear-gradient(to right, #1d7544 0, #2ec58d 35%); } } \u0026amp;.linear-blue { --primary-color: #2575fc; \u0026amp;:hover { background: linear-gradient(to right, #6a11cb 0, #2575fc 35%); } } } .friend.block.whole .friend.block.left img { \u0026amp;.auto_rotate_left { animation: auto_rotate_left 3s linear infinite; } \u0026amp;.auto_rotate_right { animation: auto_rotate_right 3s linear infinite; } } .friend.block.whole:hover .friend.block.left img { \u0026amp;.rotate { transition: 0.9s !important; -webkit-transition: 0.9s !important; -moz-transition: 0.9s !important; -o-transition: 0.9s !important; -ms-transition: 0.9s !important; transform: rotate(360deg) !important; -webkit-transform: rotate(360deg) !important; -moz-transform: rotate(360deg) !important; -o-transform: rotate(360deg) !important; -ms-transform: rotate(360deg) !important; } } .friend.block.left { width: 92px; min-width: 92px; float: left; } .friend.block.left { margin-right: 2px; } .friend.block.right { margin-top: 18px; margin-right: 18px; } .friend.name { overflow: hidden; font-weight: bolder; word-wrap:break-word; word-break: break-all; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; } .friend.info { margin-top: 3px; overflow: hidden; word-wrap:break-word; word-break: break-all; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; line-height: normal; font-size: 0.8rem; color: #7a7a7a; } @media screen and (max-width: 900px) { .friend.info { display: none; } .friend.block.whole { width: 45%; } .friend.block.left { width: 84px; margin-left: 15px; } .friend.block.right { height: 100%; margin: auto; display: flex; align-items: center; justify-content: center; } .friend.name { font-size: 14px; } } @keyframes bln { 0% { box-shadow: 0 0 5px grey,inset 0 0 5px grey,0 1px 0 grey; box-shadow: 0 0 5px var(--primary-color,grey),inset 0 0 5px var(--primary-color,grey),0 1px 0 var(--primary-color,grey) } to { box-shadow: 0 0 16px grey,inset 0 0 8px grey,0 1px 0 grey; box-shadow: 0 0 16px var(--primary-color,grey),inset 0 0 8px var(--primary-color,grey),0 1px 0 var(--primary-color,grey) } } @keyframes led { 0% { box-shadow: 0 0 4px #ca00ff } 25% { box-shadow: 0 0 16px #00b5e5 } 50% { box-shadow: 0 0 4px #00f } 75% { box-shadow: 0 0 16px #b1da21 } to { box-shadow: 0 0 4px red } } @keyframes borderFlash { 0% { border-color: white; } to { border-color: grey; border-color: var(--primary-color,grey) } } @keyframes auto_rotate_left { 0% { transform: rotate(0) } to { transform: rotate(-1turn) } } @keyframes auto_rotate_right { 0% { transform: rotate(0) } to { transform: rotate(1turn) } } 创建友链shortcode\r新建文件layouts\\shortcodes\\friend.html，添加如下代码\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 {{ $options := (dict \u0026#34;targetPath\u0026#34; \u0026#34;/scss/friend.css\u0026#34; \u0026#34;outputStyle\u0026#34; \u0026#34;compressed\u0026#34; \u0026#34;enableSourceMap\u0026#34; true) }} {{ $style := resources.Get \u0026#34;scss/friend.scss\u0026#34; | css.Sass $options }} \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; href=\u0026#34;{{ $style.RelPermalink }}\u0026#34;\u0026gt; {{ if .IsNamedParams }} {{ $defaultImg := \u0026#34;https://sdn.geekzu.org/avatar/d41d8cd98f00b204e9800998ecf8427e?d=retro\u0026#34; }} \u0026lt;a target=\u0026#34;_blank\u0026#34; href={{ .Get \u0026#34;url\u0026#34; }} title={{ .Get \u0026#34;name\u0026#34; }}---{{ .Get \u0026#34;word\u0026#34; }} class=\u0026#34;friend url\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;friend block whole {{ .Get \u0026#34;primary-color\u0026#34; | default \u0026#34;default\u0026#34;}} {{ .Get \u0026#34;border-animation\u0026#34; | default \u0026#34;shadow\u0026#34;}}\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;friend block left\u0026#34;\u0026gt; \u0026lt;img class=\u0026#34;friend logo {{ .Get \u0026#34;img-animation\u0026#34; | default \u0026#34;rotate\u0026#34;}}\u0026#34; src={{ .Get \u0026#34;logo\u0026#34; }} onerror=\u0026#34;this.src=\u0026#39;{{ $defaultImg }}\u0026#39;\u0026#34; /\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;friend block right\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;friend name\u0026#34;\u0026gt;{{ .Get \u0026#34;name\u0026#34; }}\u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;friend info\u0026#34;\u0026gt;\u0026#34;{{ .Get \u0026#34;word\u0026#34; }}\u0026#34;\u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/a\u0026gt; {{ end }} 友链使用\r在你想要引入友链的文章里使用下面的代码即可自动渲染成对应的友链：\n1 2 3 4 5 6 {/{\u0026lt; friend name=\u0026#34;雨临Lewis的博客\u0026#34; url=\u0026#34;lewky.cn\u0026#34; logo=\u0026#34;https://cdn.jsdelivr.net/gh/lewky/lewky.github.io@master/images/avatar.jpg\u0026#34; word=\u0026#34;不想当写手的码农不是好咸鱼_(xз」∠)_\u0026#34; \u0026gt;}/} 上面添加/只是为了转义，防止识别错误，使用过程中不添加。\n上面代码里的四个属性为必填项，还可以额外指定三个不同的属性来选择友链内置的多种样式，如下：\n1 2 3 4 5 6 7 8 9 //边框及鼠标悬停的背景颜色，允许设置渐变色 //支持7种：default、red、green、blue、linear-red、linear-green、linear-blue primary-color=\u0026#34;default\u0026#34; //头像动画：rotate(鼠标悬停时旋转，此为默认效果)、auto_rotate_left(左旋转)、auto_rotate_right(右旋转) img-animation=\u0026#34;rotate\u0026#34; //边框动画：shadow(阴影，此为默认效果)、borderFlash(边框闪现)、led(跑马灯)、bln(主颜色呼吸灯) border-animation=\u0026#34;shadow\u0026#34; 效果如下：\n雨临Lewis的博客\r\"不想当写手的码农不是好咸鱼_(xз」∠)_\"\r添加文章自动更新功能\r在config.yml中添加\n1 2 3 4 enableGitInfo: true frontmatter: #lastmod: [\u0026#34;:fileModTime\u0026#34;, \u0026#34;lastmod\u0026#34;] lastmod: [\u0026#34;:git\u0026#34;, \u0026#34;lastmod\u0026#34;] 主要参考 小球飞鱼 Echosec XR_G\u0026rsquo;s Blog 雨临Lewis zhixuan\u0026rsquo;s Blog L1nSn0w\u0026rsquo;s Blog\n","date":"2022-04-12T17:34:53+08:00","permalink":"http://localhost:1313/p/revisestack/","title":"魔改stack主题"}]